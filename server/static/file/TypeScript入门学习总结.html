<p>TypeScript å¸¸ç”¨çŸ¥è¯†ç‚¹æ€»ç»“</p>
<blockquote>
<p><a href="https://typescript.bootcss.com/basic-types.html">TypeScript ä¸­æ–‡æ‰‹å†Œ</a></p>
<p><a href="https://coding.imooc.com/class/412.html">TypeScriptï¼ç³»ç»Ÿå…¥é—¨åˆ°é¡¹ç›®å®æˆ˜</a></p>
</blockquote>
<!-- truncate -->
<h2 data-chunk_id="chunk-1">ä»€ä¹ˆæ˜¯ TypeScript</h2>
<p data-chunk_id="chunk-1">TypeScript æ˜¯ JavaScript çš„ä¸€ä¸ªè¶…é›†ï¼Œåœ¨ JavaScript çš„åŸºç¡€ä¸Šå¢åŠ äº†å¯é€‰çš„<strong>é™æ€ç±»å‹</strong>å’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚å®ƒå¯ä»¥ç¼–è¯‘æˆçº¯ JavaScriptï¼Œæœªç¼–è¯‘çš„ ts ä»£ç æ— æ³•åœ¨æµè§ˆå™¨æ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå’Œ JavaScript çš„å…³ç³»ç†è§£æˆ css å’Œ lessã€sass çš„å…³ç³»ã€‚</p>
<h2 data-chunk_id="chunk-2">TypeScript å¥½åœ¨å“ªé‡Œ</h2>
<ul data-chunk_id="chunk-2">
<li>TS å¯ä»¥è¿›è¡ŒåŠ¨æ€ç±»å‹æ£€æµ‹ï¼Œå¯ä»¥æ£€æµ‹å‡ºä¸€äº›æ½œåœ¨çš„ bugï¼ˆä¾‹å¦‚æ‹¼å†™é”™è¯¯ã€å‚æ•°ç¼ºå¤±ã€undefined ç­‰ï¼‰ï¼Œæå‡ä»£ç å¥å£®æ€§</li>
<li>ä½¿ç”¨ vscode è¿›è¡Œå¼€å‘å¯ä»¥å¾ˆå¥½çš„æç¤ºä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
<li>ä»£ç å¯è¯»æ€§å¥½</li>
</ul>
<h2 data-chunk_id="chunk-3">åˆ›å»ºç¬¬ä¸€ä¸ª TypeScript æ–‡ä»¶</h2>
<p data-chunk_id="chunk-3">é¦–å…ˆå®‰è£… TypeScript</p>
<div class="highlight" data-chunk_id="chunk-3"><pre><span></span><code>npm install -g typescript
</code></pre></div>
<p data-chunk_id="chunk-3">å®‰è£…åçœ‹æ˜¯å¦æˆåŠŸ</p>
<div class="highlight" data-chunk_id="chunk-3"><pre><span></span><code>tsc --version
</code></pre></div>
<p data-chunk_id="chunk-3">æˆ‘å®‰è£…åå‡ºç°äº†ä»¥ä¸‹é—®é¢˜ï¼š
<img alt="image-20200614175730166" src="https://raw.githubusercontent.com/3Alan/images/master/img/image-20200614175730166.png"/>
è¿™ç§æƒ…å†µåªéœ€è¦ä»¥ç®¡ç†å‘˜çš„èº«ä»½æ‰“å¼€å‘½ä»¤è¡Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight" data-chunk_id="chunk-3"><pre><span></span><code>set-ExecutionPolicy RemoteSigned
</code></pre></div>
<p data-chunk_id="chunk-3">åˆ›å»ºç¬¬ä¸€ä¸ª ts æ–‡ä»¶<code>Hello.ts</code></p>
<div class="highlight" data-chunk_id="chunk-3"><pre><span></span><code>function sayHello(name: String) {
  console.log(`Hello ${name}`);
}
let person = 'Alan';
sayHello(person);
</code></pre></div>
<p data-chunk_id="chunk-3">æˆ‘ä»¬å‘ç° ts ä»£ç å’Œæ™®é€šçš„ js ä»£ç åœ¨ <code>sayHello</code> å‡½æ•°çš„å‚æ•°ä¸Šæœ‰æ‰€ä¸åŒã€‚
<code>sayHello(name: String)</code>
å¤§è‡´çš„æ„æ€å°±æ˜¯ <code>sayHello</code> ä¼ å…¥ä¸€ä¸ªåä¸º name çš„å‚æ•°ï¼Œè¯¥å‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯ <code>String</code> ï¼Œä¸ç„¶æ— æ³•é€šè¿‡ ts çš„ç¼–è¯‘ã€‚
ä»£ç å†™å¥½åç”¨ tsc ç¼–è¯‘ä¸Šé¢çš„ <code>Hello.ts</code> æ–‡ä»¶</p>
<div class="highlight" data-chunk_id="chunk-3"><pre><span></span><code>tsc Hello.ts
</code></pre></div>
<p data-chunk_id="chunk-4">ç¼–è¯‘æˆåŠŸååœ¨åŒçº§ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª <code>Hello.js</code> æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ js æ–‡ä»¶åªæ˜¯å°† es6 è¯­æ³•è½¬åŒ–æˆäº† es5 è¯­æ³•ï¼Œå¹¶æ²¡æœ‰æ”¹å˜å…¶ä»–ä»£ç ã€‚</p>
<div class="highlight" data-chunk_id="chunk-4"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">sayHello</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Hello '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Alan'</span><span class="p">;</span>
<span class="nx">sayHello</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</code></pre></div>
<p data-chunk_id="chunk-4">å¦‚æœæŠŠ<code>Hello.ts</code>æ–‡ä»¶æ”¹å†™ä¸€ä¸‹</p>
<div class="highlight" data-chunk_id="chunk-4"><pre><span></span><code>function sayHello(name: String) {
  const text = 3 + name;
  console.log(`Hello ${name}`);
}
let person = 123;
sayHello(person);
</code></pre></div>
<p data-chunk_id="chunk-4">å†æ¬¡ç¼–è¯‘å‘ç°ä¼šæŠ¥é”™ä½†æ˜¯ä»ç„¶èƒ½ç”Ÿæˆ js æ–‡ä»¶ï¼š
<img alt="image-20200614180440953" src="https://raw.githubusercontent.com/3Alan/images/master/img/image-20200614180440953.png"/></p>
<p data-chunk_id="chunk-4">ä¸Šé¢é”™è¯¯çš„å…·ä½“æ„æ€æ˜¯</p>
<ul data-chunk_id="chunk-4">
<li>ç”±äºå£°æ˜äº†å‡½æ•°å½¢å‚ <code>name</code> ä¸ºé™æ€ç±»å‹ <code>string</code> ï¼Œè€Œåœ¨è°ƒç”¨æ—¶ä¼ å…¥å¾—æ˜¯ <code>number</code> ç±»å‹ <code>123</code> ï¼Œä¸å‰é¢çš„ <code>string</code> ä¸ç¬¦ã€‚</li>
<li>åœ¨ <code>sayHello</code> å‡½æ•°ä¸­å°† <code>name(string)</code> å’Œ <code>3(number)</code> ä¸¤ç§ä¸åŒç±»å‹å¾—å€¼è¿›è¡Œäº†ç›¸åŠ ã€‚</li>
</ul>
<p data-chunk_id="chunk-5">æˆ‘ä»¬å‘ç°æ¯æ¬¡éƒ½è¦é€šè¿‡ tsc æ¥ç¼–è¯‘ ts æ–‡ä»¶èƒ½å¾—åˆ° js æ–‡ä»¶åå†å»è¿è¡Œ js æ–‡ä»¶ï¼Œè¿‡äºéº»çƒ¦ã€‚å¯ä»¥ä½¿ç”¨æ’ä»¶ <code>ts-node</code> æ¥ç›´æ¥è¿è¡Œ ts æ–‡ä»¶ã€‚</p>
<div class="highlight" data-chunk_id="chunk-5"><pre><span></span><code>npm i ts-node -g
</code></pre></div>
<div class="highlight" data-chunk_id="chunk-5"><pre><span></span><code>ts-node Hello.ts
</code></pre></div>
<p data-chunk_id="chunk-5">:::info</p>
<p data-chunk_id="chunk-5">ts èƒ½å¤Ÿå°è¯•åˆ†æå˜é‡ç±»å‹ï¼ˆç±»å‹æ¨æ–­ï¼‰ï¼Œts æ— æ³•åˆ†æå‡ºçš„å˜é‡æœ€å¥½æ˜¾å¼å£°æ˜å˜é‡ç±»å‹ï¼ˆç±»å‹æ³¨è§£ï¼‰</p>
<p data-chunk_id="chunk-5">:::</p>
<h2 data-chunk_id="chunk-6">åŸºç¡€ç±»å‹</h2>
<p data-chunk_id="chunk-6">å˜é‡çš„å£°æ˜ï¼š<code>let [å˜é‡å] : [ç±»å‹] = å€¼</code></p>
<p data-chunk_id="chunk-6">ä¾‹å¦‚ï¼š <code>let age: number = 21</code></p>
<p data-chunk_id="chunk-6">TypeScript æ”¯æŒä¸ JavaScript å‡ ä¹ç›¸åŒçš„æ•°æ®ç±»å‹</p>
<ul data-chunk_id="chunk-6">
<li>boolean(å¸ƒå°”å€¼)</li>
<li>number(æ•°å€¼)</li>
<li>string(å­—ç¬¦ä¸²)</li>
<li>[]/Array&lt;å…ƒç´ ç±»å‹&gt;(æ•°ç»„)</li>
<li>å…ƒç»„ Tuple</li>
<li>enum(æšä¸¾)</li>
<li>any(ä»»ä½•å€¼)</li>
<li>void(ç©ºå€¼)</li>
<li>null</li>
<li>undefined</li>
<li>never</li>
</ul>
<h2 data-chunk_id="chunk-7">æ•°ç»„</h2>
<p data-chunk_id="chunk-7">æœ‰ 2 ç§æ–¹å¼å®šä¹‰æ•°ç»„</p>
<div class="highlight" data-chunk_id="chunk-7"><pre><span></span><code>let arr: number[] = [1, 2, 3]; // å…ƒç´ ç±»å‹åæ¥ä¸Š`[]`
let arr: Array&lt;number&gt; = [1, 2, 3]; // æ•°ç»„æ³›å‹
let arr: (number | string)[] = [1, '2', '4']; // å…ƒç´ ç±»å‹å¯ä»¥æ˜¯numberæˆ–stringï¼ˆç±»ä¼¼å…ƒç»„ï¼‰
</code></pre></div>
<h2 data-chunk_id="chunk-8">å…ƒç»„ tuple</h2>
<p data-chunk_id="chunk-8">è¡¨ç¤ºä¸€ä¸ªæ•°ç»„ï¼ˆå„ä¸ªå…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒï¼‰</p>
<div class="highlight" data-chunk_id="chunk-8"><pre><span></span><code>let list: [string, number]; //ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºstringç±»å‹ï¼Œç¬¬äºŒä¸ªä¸ºnumberç±»å‹
a = ['abc', 123]; //åˆæ ¼
b = [123, 'abc']; //ä¸åˆæ ¼
</code></pre></div>
<h2 data-chunk_id="chunk-9">æšä¸¾</h2>
<p data-chunk_id="chunk-9">å…¶å®æœ‰ç‚¹ç±»ä¼¼å¯¹è±¡
çœ‹ä¾‹å­å§</p>
<div class="highlight" data-chunk_id="chunk-10"><pre><span></span><code>enum lan {js, ts, css};
console.log(lan.js); // 0   jså¯¹åº”çš„ä¸‹æ ‡ï¼Œç¬¬ä¸€ä¸ªé»˜è®¤ä¸‹æ ‡ä¸º0

enum lan {
  js = 3,
  ts,
  css,
}
console.log(lan.js); // 3
console.log(lan.ts); // 4
console.log(lan.css); // 5

enum lan {
  js,
  ts = 3,
  css,
}
console.log(lan.js); // 0
console.log(lan.ts); // 3
console.log(lan.css); // 4
console.log(lan[4]); // css
console.log(lan[1]); // undefined
// ç¬¬ä¸€ä¸ªé»˜è®¤ä¸‹æ ‡ä¸º0ï¼Œcssæ¥ç€tsçš„å€¼+1

enum lan {js = 'good', ts = 'nice', css = 'well'};
console.log(lan.js); // good

// constæšä¸¾ï¼Œä¸ºäº†é¿å…åœ¨é¢å¤–ç”Ÿæˆçš„ä»£ç ä¸Šçš„å¼€é”€å’Œé¢å¤–çš„éç›´æ¥çš„å¯¹æšä¸¾æˆå‘˜çš„è®¿é—®ã€‚
const enum People {
  name: 'Alan',
  age: 23
}

// ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨è½¬åŒ–æˆå¸¸é‡å€¼ï¼Œä¸ä¼šä¿ç•™å…¶ä»–ä»£ç 
console.log(People.name); // Alan
</code></pre></div>
<h2 data-chunk_id="chunk-11">any</h2>
<p data-chunk_id="chunk-11">é¡¾åæ€ä¹‰ï¼Œä»»æ„å€¼ï¼Œå½“æˆ‘ä»¬æƒ³ä¸ºè¿˜ä¸æ¸…æ¥šç±»å‹çš„å˜é‡æŒ‡å®šä¸€ä¸ªç±»å‹æ—¶ï¼Œ <code>any</code> å°±æ˜¯æœ€å¥½çš„é€‰æ‹© ğŸ¤­</p>
<div class="highlight" data-chunk_id="chunk-11"><pre><span></span><code>let a: any = 4;
a = '123'; //åˆæ ¼

let arr: any[] = [1, '123', true]; // å’Œå…ƒç»„å¾ˆåƒ
arr[1] = 'good';
</code></pre></div>
<h2 data-chunk_id="chunk-12">void</h2>
<p data-chunk_id="chunk-12">å¸¸ç”¨äºæ— è¿”å›å€¼çš„å‡½æ•°å£°æ˜</p>
<div class="highlight" data-chunk_id="chunk-12"><pre><span></span><code>function func(): void {
  console.log('learning typescript...');
}
func(); //åˆæ ¼

function func(): void {
  return 1;
}
func(); // ä¸åˆæ ¼ï¼šType '1' is not assignable to type 'void'
</code></pre></div>
<h2 data-chunk_id="chunk-13">null å’Œ undefined</h2>
<p data-chunk_id="chunk-13">ç”¨å¤„ä¸å¤§ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š</p>
<div class="highlight" data-chunk_id="chunk-13"><pre><span></span><code>let a: string;
a = undefined;
a = null;
</code></pre></div>
<p data-chunk_id="chunk-13"><strong>ä½†æ˜¯</strong>ï¼Œå½“æŒ‡å®š<code>--strictNullChecks</code>æ ‡è®°æ—¶ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œä»–ä»¬è‡ªå·±æœ¬èº«ã€‚</p>
<h2 data-chunk_id="chunk-14">never</h2>
<p data-chunk_id="chunk-14">è¡¨ç¤ºæ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹
never ç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ï¼›
å˜é‡ä¹Ÿå¯èƒ½æ˜¯ never ç±»å‹ï¼Œå½“å®ƒä»¬è¢«æ°¸ä¸ä¸ºçœŸçš„ç±»å‹ä¿æŠ¤æ‰€çº¦æŸæ—¶ã€‚</p>
<p data-chunk_id="chunk-14">never ç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯ never çš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™ never ç±»å‹ï¼ˆé™¤äº† never æœ¬èº«ä¹‹å¤–ï¼‰ã€‚ å³ä½¿ any ä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™ neverã€‚</p>
<div class="highlight" data-chunk_id="chunk-15"><pre><span></span><code>function error(message: string): never {
  throw new Error(message);
}

// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹
function infiniteLoop(): never {
  while (true) {}
}
</code></pre></div>
<h2 data-chunk_id="chunk-16">ç»“æ„èµ‹å€¼çš„å†™æ³•</h2>
<div class="highlight" data-chunk_id="chunk-16"><pre><span></span><code>function sayAge({ name, age }: { name: string | number; age: number }): void {
  console.log(`${name} is ${age} years old`);
}
sayAge({ name: 'Alan', age: 22 });
sayAge({ name: 2, age: 22 });
</code></pre></div>
<h2 data-chunk_id="chunk-17">è”åˆç±»å‹</h2>
<p data-chunk_id="chunk-17">ç”¨ <code>|</code> æ¥è¡¨ç¤ºå–å€¼å­˜åœ¨å¤šç§å¯èƒ½</p>
<div class="highlight" data-chunk_id="chunk-17"><pre><span></span><code>let a: string | number;
a = 1;
a = 'A';
</code></pre></div>
<h2 data-chunk_id="chunk-18">ç±»å‹æ–­è¨€</h2>
<p data-chunk_id="chunk-18">å¯ä»¥è‡ªå·±æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹
æ ¼å¼å¦‚ä¸‹
<code>&lt;ç±»å‹&gt;å€¼</code>
<code>å€¼ as ç±»å‹</code></p>
<div class="highlight" data-chunk_id="chunk-18"><pre><span></span><code>interface student {
  isStudent: boolean;
  education: number;
}
interface worker {
  isStudent: boolean;
  seniority: number;
}
function Recruit(candidate: worker | student): void {
  if (candidate.isStudent) {
    console.log(`your education is ${(candidate as student).education}`);
  } else {
    console.log(`your seniority is ${(candidate as worker).seniority}`);
  }
}

const a: student = { isStudent: true, education: 4 };
const b: worker = { isStudent: false, seniority: 2 };
Recruit(a);
Recruit(b);
</code></pre></div>
<p data-chunk_id="chunk-18">ç”±äº <code>candidate</code> ä½¿ç”¨äº†è”åˆç±»å‹ï¼Œæ‰€ä»¥ ts æ— æ³•åˆ¤æ–­ <code>candidate</code> ç©¶ç«Ÿæ˜¯å±äº <code>student</code> è¿˜æ˜¯ <code>worker</code> ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ç±»å‹æ–­è¨€æ¥æ˜¾å¼å‘Šè¯‰ tsã€‚</p>
<p data-chunk_id="chunk-18">å½“ç„¶è¿˜æœ‰å…¶ä»–æ–¹å¼æ¥å®ç°</p>
<div class="highlight" data-chunk_id="chunk-19"><pre><span></span><code>interface student {
  isStudent: boolean;
  education: number;
}
interface worker {
  isStudent: boolean;
  seniority: number;
}
function Recruit(candidate: worker | student): void {
  'education' in candidate &amp;&amp; console.log(`your education is ${candidate.education}`);
  'seniority' in candidate &amp;&amp; console.log(`your seniority is ${candidate.seniority}`);
}

const a: student = { isStudent: true, education: 4 };
const b: worker = { isStudent: false, seniority: 2 };
Recruit(a);
Recruit(b);
</code></pre></div>
<ul data-chunk_id="chunk-19">
<li>typeof</li>
<li>instanceof</li>
</ul>
<h2 data-chunk_id="chunk-20">éç©ºæ–­è¨€</h2>
<p data-chunk_id="chunk-20"><code>!.</code> å¯¹åº” <code>--strictNullChecks</code></p>
<div class="highlight" data-chunk_id="chunk-20"><pre><span></span><code><span class="kd">interface</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">work</span><span class="p">(</span><span class="nx">personObj?</span><span class="o">:</span><span class="w"> </span><span class="kt">person</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ç”±äº personObj å¯èƒ½ä¸ä¼ ï¼Œæ‰€ä»¥ personObj å¯èƒ½ä¸º undefinedï¼Œä½¿ç”¨ !. å¯ä»¥æ–­è¨€ personObj ä¸ä¸ºç©º</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">personObj</span><span class="o">!</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 data-chunk_id="chunk-21">æ¥å£ interface</h2>
<p data-chunk_id="chunk-21">å…ˆçœ‹ä¸€ä¸ªæ¥å£çš„ä¾‹å­</p>
<div class="highlight" data-chunk_id="chunk-21"><pre><span></span><code>interface person {
  name: string;
}
function work(personObj: person) {
  console.log(personObj.name);
}
let person1 = { name: 'Alan', age: 21 };
work(person1);
let person2 = { age: 21 };
work(person2);
</code></pre></div>
<p data-chunk_id="chunk-21"><img alt="image-20200615180720618" src="https://raw.githubusercontent.com/3Alan/images/master/img/image-20200615180720618.png"/></p>
<p data-chunk_id="chunk-21">å®šä¹‰æ¥å£çš„å…³é”®å­—æ˜¯ <code>interface</code>
è¿™ä¸ªä¾‹å­éœ€è¦ä¼ å…¥ work çš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå¸¦æœ‰ name(string)çš„å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸ºæˆ‘è¦æ‹›è˜ä¸€ä¸ªæœ‰åå­—çš„å‘˜å·¥ï¼Œæ²¡æœ‰åå­—çš„éƒ½ä¸éœ€è¦ã€‚å½“ç„¶æˆ‘ä»¬çš„ person1 ä¸­è¿˜å¤šäº†ä¸€ä¸ª<code>age</code>å±æ€§ï¼Œè¿™å¹¶ä¸ä¼šæŠ¥é”™ã€‚å¯æ˜¯å½“æˆ‘ä»¬ç›´æ¥ä¼ é€’å‚æ•°æ—¶æ˜¯ä¼šå‡ºé”™çš„ã€‚</p>
<div class="highlight" data-chunk_id="chunk-21"><pre><span></span><code><span class="nx">work</span><span class="p">({</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Alan'</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">21</span><span class="w"> </span><span class="p">});</span>
</code></pre></div>
<p data-chunk_id="chunk-22">é‚£å¦‚æœæˆ‘ä¸ç¡®å®šè¦æ‹›è˜çš„å‘˜å·¥é™¤äº†æœ‰å§“åå¤–è¿˜éœ€è¦å…¶ä»–ä»€ä¹ˆå±æ€§æ—¶ï¼Œå¯ä»¥åƒä¸‹é¢ä¸€æ ·é‡æ–°å®šä¹‰æ¥å£å°±å¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜äº†ã€‚</p>
<div class="highlight" data-chunk_id="chunk-22"><pre><span></span><code>interface person {
  name: string;
  [propName: string]: any;
}
</code></pre></div>
<h3 data-chunk_id="chunk-23">å¯é€‰å±æ€§</h3>
<p data-chunk_id="chunk-23">é‚£å¦‚æœæˆ‘çš„æ‹›è˜æ¡ä»¶æ˜¯æœ€å¥½æ‡‚ typescript çš„ï¼Œè¿™ä¸ªæ—¶å€™ typescript å°±æ˜¯å¯æœ‰å¯æ— çš„ï¼ˆæœ€å¥½æ‡‚ï¼Œå˜¿å˜¿ ğŸ˜œï¼‰ï¼Œé‚£æˆ‘ä»¬å°±è¦ç”¨åˆ°<strong>å¯é€‰å±æ€§</strong>äº†
<code>å¯é€‰å±æ€§</code>åœ¨å¯é€‰å±æ€§ååé¢åŠ ä¸Šä¸€ä¸ª<code>?</code></p>
<div class="highlight" data-chunk_id="chunk-23"><pre><span></span><code>interface person {
  name: string;
  ts?: boolean;
}
function Recruit(personObj: person): string {
  if (personObj.ts) {
    return `congratulations!${personObj.name}`;
  } else {
    return `sorry,${personObj.name}, we need a employee who know ts!`;
  }
}
let person1 = { name: 'Alan', age: 21, ts: true };
console.log(Recruit(person1));
let person2 = { name: 'Bob', age: 21 };
console.log(Recruit(person2));
</code></pre></div>
<h3 data-chunk_id="chunk-24">åªè¯»å±æ€§</h3>
<p data-chunk_id="chunk-24">æˆ‘ä»¬éƒ½çŸ¥é“äººçš„åå­—éƒ½æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯¹ person æ¥å£é‡Œé¢çš„ name å±æ€§ç¨ä½œä¿®æ”¹ï¼Œåœ¨å±æ€§å name å‰åŠ ä¸Š<code>readonly</code>ã€‚</p>
<p data-chunk_id="chunk-24">:::tip</p>
<p data-chunk_id="chunk-24">å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ setter/getter æ¥å®ç°</p>
<p data-chunk_id="chunk-24">:::</p>
<div class="highlight" data-chunk_id="chunk-24"><pre><span></span><code>interface person {
  readonly name: string;
  ts?: boolean;
}
let person1: person = { name: 'Alan' };
person1.name = 'Bob'; // Cannot assign to 'name' because it is a read-only property.
</code></pre></div>
<p data-chunk_id="chunk-24"><strong>æˆ‘ä»¬å‘ç° readonly å’Œ const çš„ä½œç”¨å¥½åƒæœ‰ç‚¹ç›¸ä¼¼ï¼Œé‚£æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ readonly ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ const å‘¢ï¼Ÿ</strong>
å˜é‡----&gt;const
å±æ€§----&gt;readonly</p>
<h3 data-chunk_id="chunk-25">å‡½æ•°ç±»å‹çš„æ¥å£</h3>
<p data-chunk_id="chunk-25">æ¥å£é™¤äº†å¯ä»¥æè¿°å¸¦æœ‰å±æ€§çš„å¯¹è±¡å¤–ï¼Œè¿˜å¯ä»¥æè¿°å‡½æ•°ç±»å‹
è¿™é‡Œåˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥æ£€æŸ¥ä½ æœ‰æ²¡æœ‰æ‰“å¡ ğŸ˜</p>
<div class="highlight" data-chunk_id="chunk-25"><pre><span></span><code>interface attendanceFunc {
  (name: string, startTime: number, endTime: number): boolean;
}
let checkAttendance: attendanceFunc;
checkAttendance = function (name: string, startTime: number, endTime: number): boolean {
  let result = startTime &lt; 9 &amp;&amp; endTime &gt; 18;
  return result;
};
console.log(checkAttendance('Alan', 10, 19)); // false
</code></pre></div>
<p data-chunk_id="chunk-25">çœ‹ä¸€ä¸‹æ¥å£çš„å£°æ˜ï¼š</p>
<div class="highlight" data-chunk_id="chunk-25"><pre><span></span><code>interface attendanceFunc {
  (name: string, startTime: number, endTime: number): boolean;
}
</code></pre></div>
<p data-chunk_id="chunk-26"><code>name,startTime,endTime</code> æ”¾åœ¨ <code>()</code> ä¸­ä»£è¡¨å‡½æ•°çš„å‚æ•°
<code>:boolean</code> è¡¨ç¤ºå‡½æ•°çš„è¿”å›å€¼ç±»å‹
å½“ç„¶ä¸Šé¢ä¾‹å­ä¸­çš„<code>checkAttendance</code>çš„å½¢å‚ä»¥åŠå‡½æ•°çš„è¿”å›å€¼æ¥è¯´å¯ä»¥ä¸æŒ‡å®šç±»å‹ï¼Œå› ä¸º <code>checkAttendance</code> å¤åˆ¶ç»™äº† <code>attendanceFunc</code> å˜é‡ï¼Œç±»å‹æ£€æŸ¥å™¨ä¼šè‡ªåŠ¨(æŒ‰ç…§æ¥å£ä¸­å‚æ•°çš„é¡ºåº)æ¨æ–­å‡ºå‚æ•°ä»¥åŠè¿”å›å€¼çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å†™æˆä¸‹é¢è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚<strong>å‡½æ•°ä¸­çš„å‚æ•°åå¯ä»¥ä¸å’Œæ¥å£ä¸­çš„ç›¸åŒ</strong></p>
<div class="highlight" data-chunk_id="chunk-26"><pre><span></span><code>interface attendanceFunc {
  (name: string, startTime: number, endTime: number): boolean;
}
let checkAttendance: attendanceFunc;
checkAttendance = function (n, startTime, endTime) {
  let result = startTime &lt; 9 &amp;&amp; endTime &gt; 18;
  return result;
};
console.log(checkAttendance('Alan', 10, 19)); // false
</code></pre></div>
<h3 data-chunk_id="chunk-27">æ¥å£çš„ç»§æ‰¿</h3>
<p data-chunk_id="chunk-27">ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿ 1 ä¸ªæˆ–è€…å¤šä¸ªæ¥å£ï¼š
ç»§æ‰¿ä½¿ç”¨å…³é”®è¯<code>extends</code></p>
<div class="highlight" data-chunk_id="chunk-27"><pre><span></span><code>interface person {
  name: string;
}
interface student {
  studentId: number;
}
interface seniorStudent extends person, student {
  grade: string;
}
let student1: seniorStudent = { name: 'Alan', studentId: 1, grade: 'one' };
console.log(student1);
</code></pre></div>
<h2 data-chunk_id="chunk-28">ç±» class</h2>
<p data-chunk_id="chunk-28">TS ä¸­çš„ç±»å’Œ ES6 ä¸­çš„ç±»å¾ˆç›¸ä¼¼ï¼Œè¿™é‡Œåªä»‹ç»ä¸åŒçš„åœ°æ–¹</p>
<h3 data-chunk_id="chunk-29">å˜é‡ä¿®é¥°ç¬¦</h3>
<ul data-chunk_id="chunk-29">
<li>publicï¼ˆé»˜è®¤ï¼‰</li>
<li>privateï¼ˆç§æœ‰ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®ï¼‰</li>
<li>protectedï¼ˆå’Œ private ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ protected å£°æ˜çš„å˜é‡å¯ä»¥åœ¨æ´¾ç”Ÿç±»ï¼ˆå³å­ç±»ï¼‰ä¸­è®¿é—®ï¼‰</li>
</ul>
<h3 data-chunk_id="chunk-30">é™æ€å±æ€§ static</h3>
<div class="highlight" data-chunk_id="chunk-30"><pre><span></span><code>class Person {
  static fingerNum = 5;
}

// åªèƒ½é€šè¿‡ç±»æ¥è®¿é—®
console.log(Person.fingerNum);
// ä¸èƒ½é€šè¿‡å®ä¾‹è®¿é—®
console.log(new Person().fingerNum);
</code></pre></div>
<div class="highlight" data-chunk_id="chunk-30"><pre><span></span><code>// å•ä¾‹æ¨¡å¼åˆ›å»ºå”¯ä¸€çš„å®ä¾‹
class singleClass {
  private static instance: singleClass;
  private constructor(public name: string) {}

  static getInstance() {
    if (!this.instance) {
      this.instance = new singleClass('Alan');
    }
    return this.instance;
  }
}

const class1 = singleClass.getInstance();
const class2 = singleClass.getInstance();
console.log(class1.name); // Alan
console.log(class1 === class2); // true
</code></pre></div>
<h3 data-chunk_id="chunk-31">æ„é€ å‡½æ•°</h3>
<div class="highlight" data-chunk_id="chunk-31"><pre><span></span><code>class Person {
  constructor(name, mobile, sex) {
    this.name = name;
    this.mobile = mobile;
    this.sex = sex;
  }
  public name: string;
  private mobile: string;
  protected sex: string;
}
</code></pre></div>
<p data-chunk_id="chunk-31">ä¸Šé¢çš„ä»£ç å¯ä»¥ç®€å†™æˆä¸‹é¢è¿™æ ·</p>
<div class="highlight" data-chunk_id="chunk-31"><pre><span></span><code>class Person {
  constructor(name: string, private mobile: string, protected sex: string) {}
}
</code></pre></div>
<h3 data-chunk_id="chunk-32">æŠ½è±¡ç±»</h3>
<ul data-chunk_id="chunk-32">
<li>ä¸èƒ½è¢«å®ä¾‹åŒ–</li>
<li>è¦ä½¿ç”¨çš„è¯è¦å£°æ˜å…¶æ´¾ç”Ÿç±»ï¼Œå¹¶ä¸”é‡å†™å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•</li>
</ul>
<div class="highlight" data-chunk_id="chunk-32"><pre><span></span><code>abstract class Animal {
  constructor(public name: string) {}
  sayHello() {
    console.log('hello');
  }
  // å£°æ˜æŠ½è±¡æ–¹æ³•
  abstract action(): void;
}

class Bird extends Animal {
  constructor(name) {
    super(name);
  }
  action() {
    console.log('jijiji');
  }
}

const bird = new Bird('qc');
console.log(bird);
// Bird { name: 'qc' }
</code></pre></div>
<h2 data-chunk_id="chunk-33">æ³›å‹</h2>
<blockquote data-chunk_id="chunk-33">
<p>æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œ<strong>ä¸é¢„å…ˆæŒ‡å®š</strong>å…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨<strong>ä½¿ç”¨çš„æ—¶å€™</strong>å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚</p>
</blockquote>
<h3 data-chunk_id="chunk-34">å‡½æ•°ç”¨æ³•ï¼š&lt;æ³›å‹å&gt;</h3>
<div class="highlight" data-chunk_id="chunk-34"><pre><span></span><code>function Recruit&lt;T&gt;(name: string, props: T) {
  return name + props;
}
// æ˜¾å¼æŒ‡å®šä¸ºTä¸ºnumberç±»å‹
console.log(Recruit&lt;number&gt;('Alan', 123)); // Alan123
// TSè‡ªåŠ¨æ¨æ–­ä¸ºnumberç±»å‹ï¼Œå’Œä¸Šé¢æ•ˆæœä¸€æ ·
console.log(Recruit('Alan', 123)); // Alan123
console.log(Recruit('Alan', [1, 2, 3])); // Alan1,2,3
</code></pre></div>
<p data-chunk_id="chunk-34">ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªæ³›å‹åï¼Œä¸‹é¢çš„ä¾‹å­ç»“åˆäº†æ¥å£æ¥å®Œæˆ</p>
<div class="highlight" data-chunk_id="chunk-34"><pre><span></span><code>interface Contact {
  mobile: string;
}

interface Address {
  province: string;
}

function Recruit&lt;C extends Contact, A extends Address&gt;(name: string, contact: C, address: A) {
  return `${name}'s mobile is ${contact.mobile}, live in ${address.province}`;
}

console.log(Recruit('Alan', { mobile: '666' }, { province: 'Shanghai' }));
// Alan's mobile is 666, live in Shanghai
</code></pre></div>
<h3 data-chunk_id="chunk-35">ç±»ç”¨æ³•</h3>
<div class="highlight" data-chunk_id="chunk-35"><pre><span></span><code>interface employee {
  name: string;
  age: number;
}

class RecruitManager&lt;T extends employee&gt; {
  constructor(private data: Array&lt;T&gt;) {}
  select(age: number): T {
    return this.data.find((item) =&gt; item.age &gt; age);
  }
}

const result = new RecruitManager([
  {
    name: 'Alan',
    age: 22
  },
  {
    name: 'Bob',
    age: 18
  }
]);
console.log(result.select(20));
</code></pre></div>
<h3 data-chunk_id="chunk-36">æ³›å‹çº¦æŸ</h3>
<p data-chunk_id="chunk-36">ä½¿ç”¨ extends çº¦æŸæ³›å‹</p>
<div class="highlight" data-chunk_id="chunk-36"><pre><span></span><code>interface info {
  mobile: string;
}

// Tæ³›å‹å¿…é¡»æ»¡è¶³info
function Recruit&lt;T extends info&gt;(name: string, props: T) {
  return name + props.mobile;
}

console.log(Recruit('Alan', { mobile: '1232910830' })); // Alan1232910830
</code></pre></div>
<h2 data-chunk_id="chunk-37">React ç›¸å…³</h2>
<h3 data-chunk_id="chunk-38">class ç»„ä»¶åŠ¨æ€è®¾ç½® state</h3>
<div class="highlight" data-chunk_id="chunk-38"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
<span class="w">  </span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">value</span>
<span class="p">}</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">Pick</span><span class="o">&lt;</span><span class="nx">CompontentState</span><span class="p">,</span><span class="w"> </span><span class="nx">keyof</span><span class="w"> </span><span class="nx">CompontentState</span><span class="o">&gt;</span><span class="p">);</span>
</code></pre></div>